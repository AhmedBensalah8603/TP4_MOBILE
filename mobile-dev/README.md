# Aquora Dashboard (aquora_dashboard_v2) âœ…

A Flutter dashboard app focused on monitoring and interacting with IoT-like water/temperature sensors and a prototype avatar chat feature (LLM + TTS). The project includes a Flutter front-end, Firebase for auth/config, and a small backend for avatar/chat endpoints and TTS.

---

## Quick summary âœ¨

- **Platform:** Flutter (mobile, web, desktop)
- **Languages:** Dart
- **Primary services:** Firebase Authentication (via `firebase_auth`), optional backend for LLM/TTS
- **State management:** `provider`
- **RTL-first UI:** Arabic-first design using `GoogleFonts.cairo`

---

## Features / What you'll find ğŸ”

- Dashboard pages (water, temp, pH history) and a system status screen
- Auth flow and simple `AuthService` + `AuthProvider`
- Avatar chat UI that sends user text to `POST /avatar/message` and optionally plays returned `ttsUrl` audio
- Reusable UI patterns and widgets with RTL support

---

## Getting started â€” local setup ğŸ”§

1. Install Flutter and ensure it is on your PATH: https://docs.flutter.dev/
2. Fetch packages:

	```bash
	flutter pub get
	```

3. Configure Firebase (if you need cloud features):
	- Run `flutterfire configure` to regenerate `lib/firebase_options.dart` when needed.
	- For local testing, use the Firebase Emulator Suite instead of production services.

4. Set backend URL when running locally (if using the avatar/chat endpoints):

	```bash
	flutter run --dart-define=API_BASE_URL=http://localhost:7071
	```

---

## Common commands ğŸš€

- Run: `flutter run` (add `-d <device>`)
- Build APK: `flutter build apk`
- Build web: `flutter build web`
- Lint: `flutter analyze`
- Format: `dart format .`

---

## Key files & folders ğŸ—‚ï¸

- `lib/main.dart` â€” app entrypoint; initializes Firebase
- `lib/firebase_options.dart` â€” generated by FlutterFire CLI
- `lib/services/` â€” API clients and service wrappers (`api_client.dart`, `avatar_service.dart`, `auth_service.dart`)
- `lib/state/` â€” app state providers (e.g., `auth_provider.dart`)
- `lib/avatar_chat_page.dart` â€” example chat UI using backend `POST /avatar/message`
- `backend/` â€” prototype backend (FastAPI) used for avatar/chat + optional TTS

---

## Architecture & Conventions ğŸ’¡

- **RTL-first**: UI is designed for Arabic-first layout; preserve `Directionality(textDirection: TextDirection.rtl)` where applicable.
- **Fonts**: `GoogleFonts.cairo` is used for Arabic typography.
- **Navigation**: Uses `Navigator.push(MaterialPageRoute(...))` throughout (no router package).
- **Firebase note**: Avoid committing secret keys; use `flutterfire configure` to update `lib/firebase_options.dart`.

---

## Backend & Avatar Chat ğŸ§ ğŸ”Š

- The app expects a backend `POST /avatar/message` that accepts `{ "text": "..." }` and returns `{ "replyText": "...", "ttsUrl": "... (optional)" }`.
- The included `backend/` folder contains a prototype FastAPI server that can call Azure OpenAI and Azure TTS when credentials are provided via environment variables (see `backend/README.md` if present).

---

## Testing & CI ğŸ§ª

- There are currently no tests in `/test`. If you add tests, prefer small widget tests using `flutter_test` and put them under `/test`.

---

## Contribution & Notes ğŸ¤

- Follow existing code patterns (small helper functions inside widgets, preserve RTL, and use `GoogleFonts.cairo`).
- Run `flutter analyze` and `dart format .` before opening PRs.

---

If you'd like, I can also add a short developer guide section (e.g., how to run the backend locally, wire up Azure credentials, or add a new page with RTL support). âš™ï¸

---

Credits: Project scaffolded for Aquora's dashboard and avatar prototype.


